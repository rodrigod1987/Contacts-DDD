<header class="fixed-top">
  <ap-loading></ap-loading>
  <nav class="navbar navbar-expand navbar-dark bg-dark">
    <a class="navbar-brand">
      <i (click)="menu.toggle()" class="fa fa-bars mr-2"></i>
      Contacts DDD
    </a>
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
          <a class="nav-link" [routerLink]="['home']">Home</a>
      </li>
    </ul>
    <div *ngIf="!isLogged(); else accountmenu">
      <form class="form-inline my-2 my-lg-0" >
        <button class="btn btn-success my-2 my-sm-0" [routerLink]="['/home','login']">Login</button>
      </form>
    </div>
    <ap-menu #menu>
      <ul class="navbar-nav">
        <li class="nav-item">
          <strong>
            <a class="nav-link" [routerLink]="['contacts']" (click)="menu.toggle()">Contacts</a>
          </strong>
        </li>
      </ul>
    </ap-menu>
  </nav>
</header>
<ap-message></ap-message>

<ng-template #accountmenu>
  <form class="form-inline my-2 my-lg-0" *ngIf="user">
    <ul class="navbar-nav mr-auto form-inline">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle"
          data-toggle="dropdown">
          Ol√°, {{user.username}}
        </a>
        <div class="dropdown-menu dropdown-menu-right">
          <button class="dropdown-item" [routerLink]="['account']">
            <i class="fa fa-user-circle"></i> Account
          </button>
          <div class="dropdown-divider"></div>
          <button class="dropdown-item" (click)="logout()">
            <i class="fa fa-sign-out"></i> Exit
          </button>
        </div>
      </li>
    </ul>
  </form>
</ng-template>
